<?xml version="1.0" encoding="UTF-8"?>
<!-- EN-Revision: 17133 -->
<!-- Reviewed: no -->
<sect1 id="zend.service.recaptcha">
    <title>Zend_Service_ReCaptcha</title>

    <sect2 id="zend.service.recaptcha.introduction">
        <title>Einführung</title>

        <para>
            <classname>Zend_Service_ReCaptcha</classname> bietet einen Client für das <ulink
                url="http://recaptcha.net/">reCAPTCHA Web Service</ulink>. Laut der reCAPTCHA Seite
            ist "reCAPTCHA ein freies CAPTCHA Service das hilft Bücher zu digitalisieren." Jedes
            reCAPTCHA verlangt das der Benutzer zwei Wörter eingibt, das erste ist das aktuelle
            Captcha, und das zweite ist ein Wort von einem eingescannten Text bei dem Software für
            optische Zeichenerkennung (OCR) keine Identifizierung durchführen kann. Die Annahme ist
            das, wenn der Benutzer das erste Wort richtig angegeben hat, dass dann das zweite auch
            korrekt angegeben wird, und das dieses dann verwendet werden kann um OCR Software für
            die Digitalisierung von Büchern zu verbessern.
        </para>

        <para>
            Um den reCAPTCHA Service zu verwenden muß man
            <ulink url="http://recaptcha.net/whyrecaptcha.html">einen Account unterzeichnen</ulink>
            und eine oder mehrere Domains beim Service registrieren um öffentliche und private
            Schlüssel zu erzeugen.
        </para>
    </sect2>

    <sect2 id="zend.service.recaptcha.simplestuse">
        <title>Einfachste Verwendung</title>

        <para>
            Ein <classname>Zend_Service_ReCaptcha</classname> Objekt instanzieren, und ihm den
            öffentlichen und privaten Schlüssel übergeben:
        </para>

        <programlisting language="php"><![CDATA[
$recaptcha = new Zend_Service_ReCaptcha($pubKey, $privKey);
]]></programlisting>

        <para>
            Um das reCAPTCHA darzustellen, muß einfach die <methodname>getHTML()</methodname>
            Methode aufgerufen werden:
        </para>

        <programlisting language="php"><![CDATA[
echo $recaptcha->getHTML();
]]></programlisting>

        <para>
            Wenn das Formular übertragen wurde, sollte man zwei Felder empfangen haben,
            'recaptcha_challenge_field' und 'recaptcha_response_field'. Diese sind an die
            <methodname>verify()</methodname> Methode des ReCaptcha Objekts zu übergeben:
        </para>

        <programlisting language="php"><![CDATA[
$result = $recaptcha->verify(
    $_POST['recaptcha_challenge_field'],
    $_POST['recaptcha_response_field']
);
]]></programlisting>

        <para>
            Sobald man das Ergebnis hat, kann es getestet werden um zu sehen ob es gültig ist. Das
            Ergebnis ist ein <classname>Zend_Service_ReCaptcha_Response</classname> Objekt, welche
            eine <methodname>isValid()</methodname> Methode anbietet.
        </para>

        <programlisting language="php"><![CDATA[
if (!$result->isValid()) {
    // Fehlerhafte Prüfung
}
]]></programlisting>

        <para>
            Noch einfacher zu verwenden ist
            <link linkend="zend.captcha.adapters.recaptcha">der ReCaptcha</link>
            <classname>Zend_Captcha</classname> Adapter, oder diesen Adapter als Backend für das
            <link linkend="zend.form.standardElements.captcha">Captcha Formularelement</link> zu
            verwenden. In jedem Fall werden die Details der Darstellung und Prüfung des reCAPTCHA
            automatisch durchgeführt.
        </para>
    </sect2>
</sect1>
<!--
vim:se ts=4 sw=4 et:
-->
