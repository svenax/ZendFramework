<!-- EN-Revision: 12534 -->
<sect2 id="zend.service.twitter.search">
    <title>Zend_Service_Twitter_Search</title>

    <sect3 id="zend.service.twitter.search.introduction">
        <title>Einführung</title>

        <para>
            <code>Zend_Service_Twitter_Search</code> bietet einen Client für die <ulink
                url="http://apiwiki.twitter.com/Search+API+Documentation">Such API von Twitter</ulink>.
            Das Twitter Suchservice wird verwendet um in Twitter zu suchen. Aktuell gibt es Daten nur im
            Atom oder JSON Format zurück, aber ein komplettes REST Service kommt in Zukunft welche auch
            XML Antworten unterstützen wird.
        </para>
    </sect3>

    <sect3 id="zend.service.twitter.search.trends">
        <title>Twitter Trends</title>

        <para>
            Gibt die Top Zehn Abfragen zurück die aktuell bei Twitter Trend sind. Die Antwort enthält die
            Zeit der Abfragen, den Namen jedes einzelnen Trendtopics, und auch die Url zur Twitter
            Suchseite für dieses Topic. Aktuell unterstützt die Such-API für Trends nur eine Rückgabe von
            JSON weswegen die Funktion ein Array zurückgibt.
        </para>

        <programlisting role="php"><![CDATA[
$twitter_search = new Zend_Service_Twitter_Search();
$twitter_trends = $twitter_search->trends();

foreach($twitter_trends as $trend) {
    print $trend['name'] . ' - ' . $trend['url'] . PHP_EOL
}
]]>
        </programlisting>

        <para>
            Das zurückgegebene Array enthält zwei Werte:
        </para>
        <itemizedlist>
            <listitem>
                <para>
                    <code>name</code>, ist der Name des Trends.
                </para>
            </listitem>

            <listitem>
                <para>
                    <code>url</code>, ist die Url um die Tweets für diesen Trend zu sehen.
                </para>
            </listitem>
        </itemizedlist>
    </sect3>

    <sect3 id="zend.service.twitter.search.search">
        <title>Suchen in Twitter</title>

        <para>
            Die Verwendung der Suchmethode gibt Tweets zurück die einer speziellen Abfrage entsprechen.
            Es gibt eine Anzahl von <ulink url="http://search.twitter.com/operators">Suchoperatoren</ulink>
            die für die Abfrage verwendet werden können.
        </para>

        <para>
            Die Suchmethode akzeptiert sechs verschiedene optionale URL Parameter die als Array übergeben
            werden:
        </para>

        <itemizedlist>
            <listitem>
                <para>
                    <code>lang</code>, begrenzt die Tweets auf eine angegebene Sprache, wobei lang durch einen
                    <ulink url="http://en.wikipedia.org/wiki/ISO_639-1">ISO 639-1 Code</ulink> angegeben werden
                    muß.
                </para>
            </listitem>

            <listitem>
                <para>
                    <code>rpp</code>, die Anzahl der Tweets die pro Seite zurückzugeben sind, bis zu einem
                    Maximum von 100.
                </para>
            </listitem>

            <listitem>
                <para>
                    <code>page</code>, die Seitennummer die zurückzugeben ist, bis zu einem Maximum von
                    etwa 1500 Ergebnissen (basierend auf RPP * Seite)
                </para>
            </listitem>

            <listitem>
                <para>
                    <code>since_id</code>, returns tweets with status ids
                    greater than the given id.
                </para>
            </listitem>

            <listitem>
                <para>
                    <code>show_user</code>, when "true", adds "&gt;user&lt;:"
                    to the beginning of the tweet. This is useful for readers
                    that do not display Atom's author field. The default is "false"
                </para>
            </listitem>

            <listitem>
                <para>
                    <code>geocode</code>, returns tweets by users located within a given radius of the given
                    latitude/longitude, where the user's location is taken from their Twitter profile. The
                    parameter value is specified by "latitude,longitude,radius", where radius units must
                    be specified as either "mi" (miles) or "km" (kilometers).
                </para>
            </listitem>
        </itemizedlist>
        <example id="zend.service.twitter.search.search.json">
            <title>JSON Search Example</title>
            <para>
                The following code sample will return an array with the values search results
            </para>

            <programlisting role="php"><![CDATA[
$twitter_search = new Zend_Service_Twitter_Search('json');
$search_results = $twitter_search->search('zend', array('lang' => 'en'));
]]>
            </programlisting>
        </example>

        <example id="zend.service.twitter.search.search.atom">
            <title>ATOM Search Example</title>
            <para>
                The following code sample will return a <code>Zend_Feed_Atom</code> object.
            </para>

            <programlisting role="php"><![CDATA[
$twitter_search = new Zend_Service_Twitter_Search('atom');
$search_results = $twitter_search->search('zend', array('lang' => 'en'));
]]>
            </programlisting>
        </example>
    </sect3>

    <sect3 id="zend.service.twitter.search.accessors">
        <title>Zend-specific Accessor Methods</title>

        <para>
            While the Twitter Search API only specifies two methods,
            <code>Zend_Service_Twitter_Search</code> has additional accessors
            that may be used for modifying internal properties.
        </para>

        <itemizedlist>
            <listitem>
                <para>
                    <code>getResponseType()</code> and <code>setResponseType()</code>
                    allow you to retrieve and modify the response type of the search
                    between JSON and ATOM.
                </para>
            </listitem>
        </itemizedlist>
    </sect3>
</sect2>
<!--
vim:se ts=4 sw=4 et:
-->
