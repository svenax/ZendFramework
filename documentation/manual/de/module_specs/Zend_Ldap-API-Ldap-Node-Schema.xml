<?xml version="1.0" encoding="UTF-8"?>
<!-- EN-Revision: 17230 -->
<!-- Reviewed: no -->
<sect3 id="zend.ldap.api.reference.zend-ldap-node-schema">
    <title>Zend_Ldap_Node_Schema</title>

    <para>
        Die folgenden Methoden sind für alle Hersteller-spezifischen Unterklassen vorhanden.
    </para>

    <para>
        <code>Zend_Ldap_Node_Schema</code> enthält die magischen Methoden <code>__get()</code> und
        <code>__isset()</code> um auf die Attribute durch Ihren Namen zugreifen zu können. Die
        verweisen auf <code>Zend_Ldap_Node_Schema::getAttribute()</code> und
        <code>Zend_Ldap_Node_Schema::existsAttribute()</code>. <code>__set()</code> und
        <code>__unset()</code> sind auch implementiert, werfen aber eine
        <code>BadMethodCallException</code> da Änderungen auf RootDSE Nodes nicht erlaubt sind.
        Weiters implementiert die Klasse <code>ArrayAccess</code> für Array-Artigen Zugriff und
        wirft eine <code>BadMethodCallException</code> aus den bekannten Gründen.
    </para>

    <table id="zend.ldap.api.reference.zend-ldap-node-schema.table">
        <title>Zend_Ldap_Node_Schema API</title>

        <tgroup cols="2">
            <thead>
                <row>
                    <entry>Methode</entry>
                    <entry>Beschreibung</entry>
                </row>
            </thead>
            <tbody>
                <row>
                    <entry><code>Zend_Ldap_Dn getDn()</code></entry>
                    <entry>Holt den DN des aktuellen Nodes als Zend_Ldap_Dn.</entry>
                </row>
                <row>
                    <entry><code>string getDnString(string $caseFold)</code></entry>
                    <entry>Holt den DN des aktuellen Nodes als String.</entry>
                </row>
                <row>
                    <entry><code>array getDnArray(string $caseFold)</code></entry>
                    <entry>Holt den DN des aktuellen Nodes als Array.</entry>
                </row>
                <row>
                    <entry><code>string getRdnString(string $caseFold)</code></entry>
                    <entry>Holt den <acronym>RDN</acronym> des aktuellen Nodes als String.</entry>
                </row>
                <row>
                    <entry><code>array getRdnArray(string $caseFold)</code></entry>
                    <entry>Holt den <acronym>RDN</acronym> des aktuellen Nodes als Array.</entry>
                </row>
                <row>
                    <entry><code>array getObjectClass()</code></entry>
                    <entry>Gibt die objectClass des aktuellen Nodes zurück.</entry>
                </row>
                <row>
                    <entry><code>string toString()</code></entry>
                    <entry>
                        Gibt den DN des aktuellen Nodes zurück - verweist auf
                        <code>Zend_Ldap_Dn::getDnString()</code>.
                    </entry>
                </row>
                <row>
                    <entry><code>string __toString()</code></entry>
                    <entry>
                        Castet auf eine String Darstellung - leitet auf
                        <code>Zend_Ldap_Dn::toString()</code> weiter.
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>array toArray(boolean
                        $includeSystemAttributes)</code>
                    </entry>
                    <entry>
                        Gibt eine Array Darstellung des aktuellen Nodes zurück. Wenn
                        <code>$includeSystemAttributes</code> <code>false</code> ist (Standardmäßig
                        ist es <code>true</code>) werden die System spezifischen Attribute vom Array
                        entfernt. Anders als <code>Zend_Ldap_Node_Schema::getAttributes()</code>
                        enthält das resultierende Array den DN mit dem Schlüssel <code>'dn'</code>.
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>string toJson(boolean
                        $includeSystemAttributes)</code>
                    </entry>
                    <entry>
                        Gibt eine <acronym>JSON</acronym> Darstellung des aktuellen Nodes zurück
                        indem <code>Zend_Ldap_Node_Schema::toArray()</code> verwendet wird.
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>array getData(boolean
                        $includeSystemAttributes)</code>
                    </entry>
                    <entry>
                        Gibt die Attribute des Nodes zurück. Das Array enthält alle Attribute in
                        Ihrem internen Format (keine Konvertierung).
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>boolean existsAttribute(string $name, boolean
                        $emptyExists)</code>
                    </entry>
                    <entry>
                        Prüft ob ein angegebenes Attribut existiert. Wenn <code>$emptyExists</code>
                        <code>false</code> ist werden leere Attribute (welche nur array() enthalten)
                        als nicht existierend betrachtet und geben <code>false</code> zurück. Wenn
                        <code>$emptyExists</code> true ist werden leere Attribute als existent
                        betrachtet und geben <code>true</code> zurück. In diesem Fall gibt die
                        Methode nur dann <code>false</code> zurück wenn der Name des
                        Attributs in der Sammlung der Schlüssel fehlt.
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>boolean attributeHasValue(string $name, mixed|array
                        $value)</code>
                    </entry>
                    <entry>
                        Prüft ob angegebene Werte im Attribut existieren. Die Methode gibt nur dann
                        <code>true</code> zurück wenn alle Werte in <code>$value</code> auch im
                        Attribut enthalten sind. Der Vergleich wird strikt durchgeführt (er
                        respektiert den Datentyp).
                    </entry>
                </row>
                <row>
                    <entry><code>integer count()</code></entry>
                    <entry>
                        Gibt die Anzahl der Attribute im Node zurück. Implementiert Countable.
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>mixed getAttribute(string $name, integer|null
                        $index)</code>
                    </entry>
                    <entry>
                        Holt ein <acronym>LDAP</acronym> Attribut. Datenkonvertierung wird
                        angewendet indem <code>Zend_Ldap_Attribute::getAttribute()</code> verwendet
                        wird.
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>array getAttributes(boolean
                        $includeSystemAttributes)</code>
                    </entry>
                    <entry>
                        Holt alle Attribute des Nodes. Wenn <code>$includeSystemAttributes</code>
                        <code>false</code> ist (der Standardwert ist <code>true</code>) werden
                        System spezifische Attribute vom Array entfernt.
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>array|integer getDateTimeAttribute(string $name,
                        integer|null $index)</code>
                    </entry>
                    <entry>
                        Holt ein <acronym>LDAP</acronym> date/time Attribut. Datenkonvertierung wird
                        angewendet indem <code>Zend_Ldap_Attribute::getDateTimeAttribute()</code>
                        verwendet wird.
                    </entry>
                </row>
                <row>
                    <entry>
                        <code>Zend_Ldap_Node_Schema reload(Zend_Ldap
                        $ldap)</code>
                    </entry>
                    <entry>
                        Lädt die Attribute des aktuellen Nodes neu vom angegebenen
                        <acronym>LDAP</acronym> Server.
                    </entry>
                </row>
                <row>
                    <entry>
                        <emphasis><code>Zend_Ldap_Node_Schema create(Zend_Ldap
                        $ldap)</code> </emphasis>
                    </entry>
                    <entry>Factory Methode um den Schema Node zu erstellen.</entry>
                </row>
                <row>
                    <entry><code>array getAttributeTypes()</code></entry>
                    <entry>Holt den Typ des Attributs als Array von <code/>.</entry>
                </row>
                <row>
                    <entry><code>array getObjectClasses()</code></entry>
                    <entry>
                        Holt das Klassenobjekt als Array von
                        <code>Zend_Ldap_Node_Schema_ObjectClass_Interface</code>.
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </table>

    <table id="zend.ldap.api.reference.zend-ldap-node-schema.attributetype-interface.table">
        <title>Zend_Ldap_Node_Schema_AttributeType_Interface API</title>

        <tgroup cols="2">
            <thead>
                <row>
                    <entry>Methode</entry>
                    <entry>Beschreibung</entry>
                </row>
            </thead>
            <tbody>
                <row>
                    <entry><code>string getName()</code></entry>
                    <entry>Holt den Namen des Attributs.</entry>
                </row>
                <row>
                    <entry><code>string getOid()</code></entry>
                    <entry>Holt die <acronym>OID</acronym> des Attributs.</entry>
                </row>
                <row>
                    <entry><code>string getSyntax()</code></entry>
                    <entry>Holt die Syntax des Attributs.</entry>
                </row>
                <row>
                    <entry><code>int|null getMaxLength()</code></entry>
                    <entry>Holt die maximale Länge des Attributs.</entry>
                </row>
                <row>
                    <entry><code>boolean isSingleValued()</code></entry>
                    <entry>Gibt zurück ob das Attribut ein einzelner Wert ist.</entry>
                </row>
                <row>
                    <entry><code>string getDescription()</code></entry>
                    <entry>holt die Beschreibung des Attributs</entry>
                </row>
            </tbody>
        </tgroup>
    </table>

    <table id="zend.ldap.api.reference.zend-ldap-node-schema.objectclass-interface.table">
        <title>Zend_Ldap_Node_Schema_ObjectClass_Interface API</title>

        <tgroup cols="2">
            <thead>
                <row>
                    <entry>Methode</entry>
                    <entry>Beschreibung</entry>
                </row>
            </thead>
            <tbody>
                <row>
                    <entry><code>string getName()</code></entry>
                    <entry>Gibt den Namen von objectClass zurück.</entry>
                </row>
                <row>
                    <entry><code>string getOid()</code></entry>
                    <entry>Gibt das <acronym>OID</acronym> von objectClass zurück.</entry>
                </row>
                <row>
                    <entry><code>array getMustContain()</code></entry>
                    <entry>
                        Gibt die Attribute zurück welche diese objectClass enthalten muß.
                    </entry>
                </row>
                <row>
                    <entry><code>array getMayContain()</code></entry>
                    <entry>
                        Gibt die Attribute zurück welche diese objectClass enthalten kann.
                        contain.
                    </entry>
                </row>
                <row>
                    <entry><code>string getDescription()</code></entry>
                    <entry>Gibt die Beschreibung des Attributs zurück</entry>
                </row>
                <row>
                    <entry><code>integer getType()</code></entry>
                    <entry>
                        Gibt den Typ von objectClass zurück. Diese Methode gibt einen der folgenden
                        Werte zurück:
                        <variablelist>
                            <varlistentry>
                                <term>
                                <code>Zend_Ldap_Node_Schema::OBJECTCLASS_TYPE_UNKNOWN</code></term>
                                <listitem><para>für unbekannte Klassentypen</para></listitem>
                            </varlistentry>

                            <varlistentry>
                                <term>
                                <code>Zend_Ldap_Node_Schema::OBJECTCLASS_TYPE_STRUCTURAL</code></term>
                                <listitem><para>für strukturelle Klassen</para></listitem>
                            </varlistentry>

                            <varlistentry>
                                <term>
                                <code>Zend_Ldap_Node_Schema::OBJECTCLASS_TYPE_ABSTRACT</code></term>
                                <listitem><para>für abstrakte Klassen</para></listitem>
                            </varlistentry>

                            <varlistentry>
                                <term>
                                <code>Zend_Ldap_Node_Schema::OBJECTCLASS_TYPE_AUXILIARY</code></term>
                                <listitem><para>für Hilfsklassen</para></listitem>
                            </varlistentry>
                        </variablelist>
                    </entry>
                </row>
                <row>
                    <entry><code>array getParentClasses()</code></entry>
                    <entry>
                        Gibt die elterliche objectClass dieser Klasse zurück. Diese enthalten
                        strukturelle, abstrakte und Hilfsklassen.
                    </entry>
                </row>
            </tbody>

        </tgroup>

    </table>

    <para>
        Classes representing attribute types and object classes extend
        <code>Zend_Ldap_Node_Schema_Item</code> which provides some core methods to access
        arbitrary attributes on the underlying <acronym>LDAP</acronym> node.
        <code>Zend_Ldap_Node_Schema_Item</code> includes the magic propery accessors
        <code>__get()</code> and <code>__isset()</code> to access the attributes by their
        name. Furthermore the class implements <code>ArrayAccess</code> for
        array-style-access to the attributes. <code>offsetSet()</code> and
        <code>offsetUnset()</code> throw a <code>BadMethodCallException</code> as
        modifications are not allowed on schema information nodes.
    </para>

    <table id="zend.ldap.api.reference.zend-ldap-node-schema.schema-item.table">
        <title>Zend_Ldap_Node_Schema_Item API</title>

        <tgroup cols="2">
            <thead>
                <row>
                    <entry>Method</entry>
                    <entry>Description</entry>
                </row>
            </thead>
            <tbody>
                <row>
                    <entry><code>array getData()</code></entry>
                    <entry>
                        Gets all the underlying data from the schema information
                        node.
                    </entry>
                </row>
                <row>
                    <entry><code>integer count()</code></entry>
                    <entry>
                        Returns the number of attributes in this schema information
                        node. Implements Countable.
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </table>

    <sect4 id="zend.ldap.api.reference.zend-ldap-node-schema.openldap">
        <title>OpenLDAP</title>

        <para>
            Additionally the common methods above apply to instances of
            <code>Zend_Ldap_Node_Schema_OpenLDAP</code>.
        </para>

        <table id="zend.ldap.api.reference.zend-ldap-node-schema.openldap.table">
            <title>Zend_Ldap_Node_Schema_OpenLDAP API</title>

            <tgroup cols="2">
                <thead>
                    <row>
                        <entry>Method</entry>
                        <entry>Description</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry><code>array getLdapSyntaxes()</code></entry>
                        <entry>Gets the <acronym>LDAP</acronym> syntaxes.</entry>
                    </row>
                    <row>
                        <entry><code>array getMatchingRules()</code></entry>
                        <entry>Gets the matching rules.</entry>
                    </row>
                    <row>
                        <entry><code>array getMatchingRuleUse()</code></entry>
                        <entry>Gets the matching rule use.</entry>
                    </row>
                </tbody>

            </tgroup>

        </table>

        <table
            id="zend.ldap.api.reference.zend-ldap-node-schema.openldap.attributetype-interface.table">
            <title>Zend_Ldap_Node_Schema_AttributeType_OpenLDAP API</title>

            <tgroup cols="2">
                <thead>
                    <row>
                        <entry>Method</entry>
                        <entry>Description</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>
                            <code>Zend_Ldap_Node_Schema_AttributeType_OpenLdap|null
                            getParent()</code>
                        </entry>
                        <entry>
                            Returns the parent attribute type in the inhertitance
                            tree if one exists.
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>

        <table
            id="zend.ldap.api.reference.zend-ldap-node-schema.openldap.objectclass-interface.table">
            <title>Zend_Ldap_Node_Schema_ObjectClass_OpenLDAP API</title>

            <tgroup cols="2">
                <thead>
                    <row>
                        <entry>Method</entry>
                        <entry>Description</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry><code>array getParents()</code></entry>
                        <entry>
                            Returns the parent object classes in the inhertitance
                            tree if one exists. The returned array is an array of
                            <code>Zend_Ldap_Node_Schema_ObjectClass_OpenLdap</code>.
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
    </sect4>

    <sect4 id="zend.ldap.api.reference.zend-ldap-node-schema.activedirectory">
        <title>ActiveDirectory</title>

        <note>
            <title>Schema browsing on ActiveDirectory servers</title>
            <para>
                Due to restrictions on Microsoft ActiveDirectory servers regarding
                the number of entries returned by generic search routines and due to the
                structure of the ActiveDirectory schema repository, schema browsing is
                currently <emphasis>not</emphasis> available for Microsoft ActiveDirectory
                servers.
            </para>
        </note>

        <para>
            <code>Zend_Ldap_Node_Schema_ActiveDirectory</code> does not provide any
            additional methods.
        </para>

        <table
            id="zend.ldap.api.reference.zend-ldap-node-schema.activedirectory.attributetype-interface.table">
            <title>Zend_Ldap_Node_Schema_AttributeType_ActiveDirectory API</title>

            <tgroup cols="1">
                <tbody>
                    <row>
                        <entry>
                            <code>Zend_Ldap_Node_Schema_AttributeType_ActiveDirectory</code>
                            does not provide any additional methods.
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>

        <table
            id="zend.ldap.api.reference.zend-ldap-node-schema.activedirectory.objectclass-interface.table">
            <title>Zend_Ldap_Node_Schema_ObjectClass_ActiveDirectory API</title>

            <tgroup cols="1">
                <tbody>
                    <row>
                        <entry>
                            <code>Zend_Ldap_Node_Schema_ObjectClass_ActiveDirectory</code>
                            does not provide any additional methods.
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
    </sect4>
</sect3>

